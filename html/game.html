<!DOCTYPE html>
<html lang="en" class="game-page">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game â€“ TCG World</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/game.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="../js/config-loader.js"></script>
</head>
<body class="game-page">
  <!-- Header and Navigation - Just like deckbuilder and dashboard -->
  <header id="mainHeader" class="site-header">
    <h1 id="gameTitle" class="game-title">Game Page</h1>
    <nav id="mainNav" class="main-navigation">
      <ul class="nav-links">
        <li><a href="../index.html" class="nav-link" id="homeLink">Home</a></li>
        <li><a href="dashboard.html" class="nav-link" id="dashboardLink">Dashboard</a></li>
        <li><a href="deckbuilder.html" class="nav-link" id="deckbuilderLink">Deck Builder</a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Layout Container -->
  <div class="layout-container">
    <main class="main-container">
      <div class="game-header">
        <div>
          <h1 id="gameName">Game Name</h1>
          <p id="cardCount">Cards: 0</p>
        </div>
        <div class="header-actions">
          <a href="uploader.html" id="uploaderLink" class="action-link"><i class="fas fa-upload"></i> Uploader</a>
          <a href="deckbuilder.html" id="deckbuilderLink" class="deck-link">Go to Deck Builder</a>
          <button id="deleteAllCardsBtn" class="danger-button">
            <i class="fas fa-trash-alt"></i> Delete All Cards
          </button>
        </div>
      </div>
      
      <!-- Card Table -->
      <div class="card-table-container">
        <table id="cardTable" class="card-table">
          <thead>
            <tr>
              <th>Image</th>
              <th>Card Name</th>
              <th>File Name</th>
              <th>Type</th>
              <th>Visibility</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Cards will be populated here by JavaScript -->
          </tbody>
        </table>
      </div>
    </main>
  </div>
  
  <!-- Add Card Modal -->
  <div id="addCardModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Add Cards</h2>
        <span class="close-modal">&times;</span>
      </div>
      <div class="modal-tabs">
        <button class="tab-button active" data-tab="upload">Upload Images</button>
        <button class="tab-button" data-tab="sheet">Link Google Sheet</button>
      </div>
      
      <div id="uploadTab" class="tab-content active">
        <h3>Upload Card Images</h3>
        <div class="input-group">
          <input type="file" id="cardUploader" multiple>
          <button id="uploadBtn">Upload</button>
        </div>
        <p id="uploadStatus"></p>
      </div>
      
      <div id="sheetTab" class="tab-content">
        <h3>Link Google Sheet</h3>
        <p>Link a Google Sheet containing your card data for advanced filtering and sorting.</p>
        <div class="input-group">
          <input type="text" id="cardType" placeholder="Card Type (e.g., Unit, Spell, Event)">
        </div>
        <div class="input-group">
          <input type="text" id="sheetUrl" placeholder="Enter Google Sheets URL">
          <button id="linkSheetBtn">Link Sheet</button>
        </div>
        <p id="sheetStatus"></p>
        
        <div id="sheetMappings" class="sheet-mappings">
          <h4>Linked Sheets</h4>
          <div class="sheet-mappings-list"></div>
          <div class="sheet-actions">
            <div class="input-group">
              <select id="syncSheetType" class="sync-selector">
                <option value="">Select card type to sync</option>
              </select>
              <button id="syncSheetBtn" class="sync-btn" disabled>Refresh Data</button>
            </div>
            <div id="syncStatus" class="sync-status"></div>
          </div>
        </div>
        
        <p class="help-text">
          Your Google Sheet should:
          <br>- Have a header row with column names like: name, type, cost, power, etc.
          <br>- Be shared with "Anyone with the link can view" permissions
          <br>- Include a column named "file_name" matching your uploaded card images
        </p>
      </div>
    </div>
  </div>
  
  <script src="../js/game.js"></script>
</body>
</html>